{"pageProps":{"project":{"slug":"rtype","title":{"fr":"R-Type","en":"R-Type"},"year":2025,"month":12,"category":"Gros Morceaux","status":"in-progress","description":{"fr":"R-Type â€” projet d'annÃ©e en cours, multithreading et rÃ©seau complexe.","en":"R-Type â€” current year project, multithreading and complex networking."},"tech":["C++","Threads","Network"],"repo":"https://github.com/EpiType/Air-Trap","screenshots":["/my-portfolio-v1/images/rtype-1.png"]},"readmeHtml":{"en":"<h1>Air-Trap - R-Type Clone</h1>\n<p>Un moteur de jeu multi-joueur en rÃ©seau inspirÃ© de R-Type, dÃ©veloppÃ© en C++23 avec une architecture ECS (Entity-Component-System).</p>\n<h2>ğŸ—ï¸ Architecture</h2>\n<h3>Entity-Component-System (ECS)</h3>\n<ul>\n<li><strong>EntitÃ©s</strong> : Identifiants uniques (<code>uint32_t</code>)</li>\n<li><strong>Composants</strong> : Structures de donnÃ©es pures\n<ul>\n<li><code>PositionComponent</code></li>\n<li><code>VelocityComponent</code></li>\n<li><code>SpriteComponent</code></li>\n<li><code>NetworkIdComponent</code></li>\n</ul>\n</li>\n<li><strong>SystÃ¨mes</strong> : Logique de jeu\n<ul>\n<li><code>PhysicsSystem</code> : Mouvement et collisions</li>\n<li><code>RenderingSystem</code> : Affichage (client uniquement)</li>\n<li><code>NetworkSystem</code> : Communication rÃ©seau</li>\n</ul>\n</li>\n</ul>\n<h3>Architecture RÃ©seau</h3>\n<ul>\n<li><strong>Serveur Authoritaire</strong> : Toute la logique de jeu est exÃ©cutÃ©e cÃ´tÃ© serveur</li>\n<li><strong>Client</strong> : Envoie les inputs, reÃ§oit et affiche l'Ã©tat du jeu</li>\n<li><strong>Protocole</strong> : UDP avec protocole binaire personnalisÃ©</li>\n<li><strong>Multi-threading</strong> : Le serveur est multi-threadÃ© pour gÃ©rer les clients sans bloquer</li>\n</ul>\n<h2>ğŸ”§ Technologies</h2>\n<ul>\n<li><strong>C++23</strong> : Langage principal</li>\n<li><strong>CMake</strong> : SystÃ¨me de build</li>\n<li><strong>Conan 2.x</strong> : Gestionnaire de dÃ©pendances</li>\n<li><strong>ASIO</strong> : Communication rÃ©seau (UDP)</li>\n<li><strong>SFML 2.6+</strong> : Rendu graphique et audio (client uniquement)</li>\n<li><strong>GTest</strong> : Tests unitaires</li>\n<li><strong>GitHub Actions</strong> : CI/CD avec mirroring Epitech</li>\n</ul>\n<h2>ğŸ“¦ Build</h2>\n<h3>PrÃ©requis</h3>\n<ul>\n<li>CMake 3.20+</li>\n<li>Compilateur C++23 (GCC 11+, Clang 14+, MSVC 2022+)</li>\n<li>Python 3.11+ (pour Conan)</li>\n<li>Conan 2.x</li>\n</ul>\n<h3>Linux / macOS</h3>\n<pre><code class=\"language-bash\">chmod +x scripts/build.sh\n./scripts/build.sh\n</code></pre>\n<h3>Windows</h3>\n<pre><code class=\"language-cmd\">scripts\\build.bat\n</code></pre>\n<h3>Build manuel</h3>\n<pre><code class=\"language-bash\"># Installer les dÃ©pendances\nmkdir build &#x26;&#x26; cd build\nconan install .. --build=missing -s build_type=Release -c tools.system.package_manager:mode=install\n\n# Compiler\ncmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_TOOLCHAIN_FILE=conan_toolchain.cmake\ncmake --build . --config Release -j$(nproc)\n</code></pre>\n<h2>ğŸš€ ExÃ©cution</h2>\n<h3>Lancer le serveur</h3>\n<pre><code class=\"language-bash\"># Linux/macOS\n./build/r-type_server [port]\n\n# Windows\n.\\build\\Release\\r-type_server.exe [port]\n</code></pre>\n<p>Par dÃ©faut, le serveur Ã©coute sur le port <strong>4242</strong>.</p>\n<h3>Lancer le client</h3>\n<pre><code class=\"language-bash\"># Linux/macOS\n./build/r-type_client [server_ip] [port]\n\n# Windows\n.\\build\\Release\\r-type_client.exe [server_ip] [port]\n</code></pre>\n<p>Par dÃ©faut, le client se connecte Ã  <strong>127.0.0.1:4242</strong>.</p>\n<h2>ğŸ” Outils de DÃ©veloppement</h2>\n<h3>Formatage du code</h3>\n<pre><code class=\"language-bash\">chmod +x scripts/format.sh\n./scripts/format.sh\n</code></pre>\n<p>Utilise <strong>clang-format-18</strong> avec le style Google (IndentWidth: 4, ColumnLimit: 120).</p>\n<h3>Analyse statique</h3>\n<pre><code class=\"language-bash\">chmod +x scripts/lint.sh\n./scripts/lint.sh\n</code></pre>\n<p>ExÃ©cute <strong>clang-tidy-18</strong> pour dÃ©tecter les problÃ¨mes potentiels.</p>\n<h3>Tests Unitaires</h3>\n<pre><code class=\"language-bash\"># Lancer tous les tests\ncd build &#x26;&#x26; ctest\n\n# Lancer un test spÃ©cifique\n./build/test_ecs\n./build/test_network\n</code></pre>\n<p>Les tests sont Ã©crits avec <strong>GTest</strong> et couvrent :</p>\n<ul>\n<li><strong>ECS</strong> : Registry, composants, systÃ¨mes</li>\n<li><strong>Network</strong> : Protocole, sÃ©rialisation, paquets</li>\n</ul>\n<h3>Smart Commit Tool</h3>\n<p>Outil intelligent pour crÃ©er des commits groupÃ©s automatiquement :</p>\n<pre><code class=\"language-bash\">chmod +x scripts/smart-commit.sh\n./scripts/smart-commit.sh\n</code></pre>\n<p><strong>FonctionnalitÃ©s</strong> :</p>\n<ul>\n<li>âœ… Groupe automatiquement les fichiers par type ([DOCS], [CHORE], [STYLE], [FIX], [ADD], [DEL], [REFACTOR], [MERGE])</li>\n<li>ğŸ“Š Analyse les diffs et gÃ©nÃ¨re des descriptions intelligentes</li>\n<li>ğŸ“ Affiche les stats (+/-) pour chaque fichier</li>\n<li>ğŸ¯ Format multi-ligne pour les commits avec plusieurs fichiers</li>\n<li>ğŸš€ Option de push automatique aprÃ¨s les commits</li>\n</ul>\n<p><strong>Exemple d'utilisation</strong> :</p>\n<pre><code class=\"language-bash\">$ ./scripts/smart-commit.sh\n\nğŸ” Analyse des fichiers modifiÃ©s...\n\nğŸ“¦ Groupes dÃ©tectÃ©s:\n  [CHORE] : 2 fichier(s)\n\nğŸš€ CrÃ©er des commits groupÃ©s ? (O/n): â\n\nğŸ“ Groupe [CHORE]:\n   - .github/workflows/ci-cd.yml (+25 -10)\n   - smart-commit.sh (+30 -15)\n\n   ğŸ’¡ Suggestion:\n   - ci-cd.yml: update messages\n   - smart-commit.sh: refactor logic\n\n   Description (EntrÃ©e pour accepter, ou Ã©cris la tienne): â\n\n   âœ… Commit crÃ©Ã©\n\nâœ… 1 commit(s) crÃ©Ã©(s)\n\nğŸš€ Push maintenant ? (O/n): â\nğŸ“¤ Push vers origin/initArchi...\nâœ… Push terminÃ©!\n\nğŸ‰ TerminÃ©!\n</code></pre>\n<h3>Git Hooks</h3>\n<p>Installer les hooks locaux pour valider les messages de commit :</p>\n<pre><code class=\"language-bash\">chmod +x scripts/install-hooks.sh\n./scripts/install-hooks.sh\n</code></pre>\n<p>Le hook <code>commit-msg</code> vÃ©rifie que tous les commits suivent le format :</p>\n<pre><code>[TYPE] description\n\nTypes valides: [ADD], [FIX], [CHORE], [DOCS], [STYLE], [DEL], [REFACTOR], [MERGE]\n</code></pre>\n<h2>ğŸ”„ CI/CD Pipeline</h2>\n<p>Le projet utilise <strong>GitHub Actions</strong> avec une stratÃ©gie intelligente :</p>\n<h3>Jobs</h3>\n<ol>\n<li>\n<p><strong>commit-validation</strong> (push uniquement)</p>\n<ul>\n<li>Valide le format des messages de commit</li>\n<li>Pattern : <code>[TYPE] description</code></li>\n<li>Skip les merge commits</li>\n</ul>\n</li>\n<li>\n<p><strong>style-check</strong></p>\n<ul>\n<li>Installe clang-format-18 et clang-tidy-18 depuis LLVM</li>\n<li>VÃ©rifie le code avec clang-tidy (si compile_commands.json existe)</li>\n<li>clang-format dÃ©sactivÃ© jusqu'Ã  formatage complet du code</li>\n</ul>\n</li>\n<li>\n<p><strong>build-linux</strong> (push sur <code>dev</code> uniquement)</p>\n<ul>\n<li>Compile sur Ubuntu avec GCC</li>\n<li>Cache Conan pour accÃ©lÃ©rer les builds</li>\n<li>5 tentatives de tÃ©lÃ©chargement (rÃ©seau instable)</li>\n<li>Upload des binaires en artifacts</li>\n</ul>\n</li>\n<li>\n<p><strong>build-windows</strong> (PR vers <code>main</code> uniquement)</p>\n<ul>\n<li>Compile sur Windows avec MSVC</li>\n<li>GÃ©nÃ¨re des <code>.exe</code></li>\n<li>Upload des exÃ©cutables en artifacts</li>\n</ul>\n</li>\n<li>\n<p><strong>build-macos</strong> (PR vers <code>main</code> uniquement)</p>\n<ul>\n<li>Compile sur macOS avec Clang</li>\n<li>Build parallÃ¨le avec sysctl</li>\n<li>Upload des binaires en artifacts</li>\n</ul>\n</li>\n<li>\n<p><strong>mirror</strong> (tous les push)</p>\n<ul>\n<li>Synchronise automatiquement vers le dÃ©pÃ´t Epitech</li>\n<li>SSH avec clÃ© dÃ©ployÃ©e</li>\n<li>Push force de toutes les branches et tags</li>\n</ul>\n</li>\n<li>\n<p><strong>notify</strong> (toujours exÃ©cutÃ©)</p>\n<ul>\n<li>Envoie des notifications Discord avec embed</li>\n<li>Webhook diffÃ©rent pour main/dev vs autres branches</li>\n<li>Rapport dÃ©taillÃ© : âœ…/âŒ pour chaque job</li>\n<li>Lien vers le commit et informations contextuelles</li>\n</ul>\n</li>\n</ol>\n<h3>StratÃ©gie de Branches</h3>\n<pre><code>feature â†’ dev (push direct) â†’ PR â†’ main (protection)\n</code></pre>\n<ul>\n<li><strong>dev</strong> : Build Linux systÃ©matique Ã  chaque push</li>\n<li><strong>main</strong> : Build multi-plateforme (Windows + macOS) uniquement sur PR</li>\n</ul>\n<h3>Configuration Secrets</h3>\n<p>Ajouter dans <strong>Settings â†’ Secrets and variables â†’ Actions</strong> :</p>\n<p>| Secret | Description | Exemple |\n|--------|-------------|---------|\n| <code>MIRROR_URL</code> | URL SSH du dÃ©pÃ´t Epitech | <code>git@github.com:epitech/project.git</code> |\n| <code>MIRROR_SSH_KEY</code> | ClÃ© SSH privÃ©e (deploy key sur mirror) | Contenu de <code>~/.ssh/id_rsa</code> |\n| <code>DISCORD_WEBHOOK_MAINDEV</code> | Webhook Discord pour main/dev | <code>https://discord.com/api/webhooks/...</code> |\n| <code>DISCORD_WEBHOOK_OTHER</code> | Webhook Discord pour features | <code>https://discord.com/api/webhooks/...</code> |</p>\n<h3>CrÃ©er un Webhook Discord</h3>\n<ol>\n<li>Ouvrir les paramÃ¨tres du canal Discord</li>\n<li><strong>IntÃ©grations</strong> â†’ <strong>Webhooks</strong> â†’ <strong>Nouveau Webhook</strong></li>\n<li>Copier l'URL et l'ajouter dans GitHub Secrets</li>\n</ol>\n<h3>Artifacts</h3>\n<p>Les binaires sont disponibles pendant <strong>90 jours</strong> :</p>\n<ul>\n<li><code>air-trap-linux</code> : ExÃ©cutables Linux (serveur + client)</li>\n<li><code>air-trap-windows</code> : ExÃ©cutables Windows (.exe)</li>\n<li><code>air-trap-macos</code> : ExÃ©cutables macOS</li>\n</ul>\n<p>TÃ©lÃ©chargeables depuis l'onglet <strong>Actions</strong> â†’ Run â†’ <strong>Artifacts</strong>.</p>\n<h2>ğŸ“ Workflow Git &#x26; Commits</h2>\n<h3>Format des Commits</h3>\n<p>Le projet utilise un format personnalisÃ© strict :</p>\n<pre><code>[TYPE] description courte (max 72 caractÃ¨res)\n\nTypes valides:\n- [ADD]      : Nouvelle fonctionnalitÃ©\n- [FIX]      : Correction de bug\n- [CHORE]    : Maintenance (CI/CD, config, outils)\n- [DOCS]     : Documentation\n- [STYLE]    : Formatage (whitespace, indentation)\n- [DEL]      : Suppression de fichiers\n- [REFACTOR] : Refactoring sans changement fonctionnel\n- [MERGE]    : Merge de branches\n</code></pre>\n<p><strong>Pour plusieurs fichiers</strong>, utiliser le format multi-ligne :</p>\n<pre><code>[CHORE] update CI/CD and commit tools\n- ci-cd.yml: enhance Discord notifications with embed format\n- smart-commit.sh: add intelligent file grouping and diff analysis\n</code></pre>\n<h3>Commits Automatiques avec smart-commit.sh</h3>\n<p>L'outil <code>smart-commit.sh</code> automatise ce processus :</p>\n<ol>\n<li><strong>Analyse</strong> tous les fichiers modifiÃ©s</li>\n<li><strong>Groupe</strong> par type selon les patterns :\n<ul>\n<li><code>.md</code>, <code>.txt</code>, <code>docs/</code> â†’ DOCS</li>\n<li><code>.github/</code>, <code>CMakeLists.txt</code>, <code>*.sh</code> â†’ CHORE</li>\n<li><code>*.cpp</code>, <code>*.hpp</code> avec \"fix/bug\" dans le diff â†’ FIX</li>\n<li><code>*.cpp</code>, <code>*.hpp</code> autres â†’ ADD</li>\n</ul>\n</li>\n<li><strong>GÃ©nÃ¨re</strong> des descriptions basÃ©es sur l'analyse du diff</li>\n<li><strong>CrÃ©e</strong> un commit par groupe</li>\n<li><strong>Push</strong> optionnel Ã  la fin</li>\n</ol>\n<h3>Installation des Hooks Git</h3>\n<pre><code class=\"language-bash\">./scripts/install-hooks.sh\n</code></pre>\n<p>Valide automatiquement le format avant chaque commit local.</p>\n<h2>ğŸ“‚ Structure du Projet</h2>\n<pre><code>Air-Trap/\nâ”œâ”€â”€ .github/\nâ”‚   â”œâ”€â”€ workflows/\nâ”‚   â”‚   â””â”€â”€ ci-cd.yml              # Pipeline CI/CD complet\nâ”‚   â””â”€â”€ BRANCH_PROTECTION.md       # Doc protection des branches\nâ”œâ”€â”€ .githooks/\nâ”‚   â””â”€â”€ commit-msg                 # Hook validation commits\nâ”œâ”€â”€ common/\nâ”‚   â””â”€â”€ include/\nâ”‚       â”œâ”€â”€ ecs/                   # Entity-Component-System\nâ”‚       â”‚   â”œâ”€â”€ Entity.hpp\nâ”‚       â”‚   â”œâ”€â”€ Registry.hpp\nâ”‚       â”‚   â”œâ”€â”€ components/        # Composants\nâ”‚       â”‚   â””â”€â”€ systems/           # SystÃ¨mes\nâ”‚       â”œâ”€â”€ network/               # Protocole rÃ©seau\nâ”‚       â””â”€â”€ events/                # Event Bus\nâ”œâ”€â”€ server/\nâ”‚   â”œâ”€â”€ include/network/\nâ”‚   â””â”€â”€ src/main.cpp               # Point d'entrÃ©e serveur\nâ”œâ”€â”€ client/\nâ”‚   â”œâ”€â”€ include/network/\nâ”‚   â””â”€â”€ src/main.cpp               # Point d'entrÃ©e client\nâ”œâ”€â”€ tests/                         # Tests unitaires (GTest)\nâ”‚   â”œâ”€â”€ ecs/\nâ”‚   â”‚   â”œâ”€â”€ test_registry.cpp\nâ”‚   â”‚   â””â”€â”€ test_components.cpp\nâ”‚   â”œâ”€â”€ network/\nâ”‚   â”‚   â””â”€â”€ test_protocol.cpp\nâ”‚   â””â”€â”€ CMakeLists.txt\nâ”œâ”€â”€ config/                        # Configuration runtime\nâ”‚   â”œâ”€â”€ server.json                # Config serveur\nâ”‚   â””â”€â”€ client.json                # Config client\nâ”œâ”€â”€ assets/                        # Ressources\nâ”‚   â”œâ”€â”€ sprites/\nâ”‚   â”‚   â”œâ”€â”€ players/\nâ”‚   â”‚   â”œâ”€â”€ enemies/\nâ”‚   â”‚   â”œâ”€â”€ projectiles/\nâ”‚   â”‚   â””â”€â”€ effects/\nâ”‚   â”œâ”€â”€ sounds/\nâ”‚   â”œâ”€â”€ musics/\nâ”‚   â”œâ”€â”€ fonts/\nâ”‚   â””â”€â”€ README.md\nâ”œâ”€â”€ scripts/                       # Scripts utilitaires\nâ”‚   â”œâ”€â”€ build.sh / build.bat\nâ”‚   â”œâ”€â”€ format.sh\nâ”‚   â”œâ”€â”€ lint.sh\nâ”‚   â”œâ”€â”€ smart-commit.sh\nâ”‚   â””â”€â”€ install-hooks.sh\nâ”œâ”€â”€ docs/\nâ”‚   â”œâ”€â”€ ARCHITECTURE.md\nâ”‚   â””â”€â”€ subject/\nâ”œâ”€â”€ CMakeLists.txt                 # Configuration CMake (C++23)\nâ”œâ”€â”€ conanfile.txt                  # DÃ©pendances (SFML, ASIO, GTest)\nâ”œâ”€â”€ .clang-format                  # Style Google + customizations\nâ”œâ”€â”€ .clang-tidy                    # RÃ¨gles analyse statique\nâ””â”€â”€ README.md\n</code></pre>\n<h2>ğŸ§ª Tests</h2>\n<p>Les tests unitaires sont activÃ©s par dÃ©faut avec <strong>GTest</strong>.</p>\n<pre><code class=\"language-bash\"># Compiler avec les tests\n./scripts/build.sh\n\n# Lancer tous les tests\ncd build &#x26;&#x26; ctest --output-on-failure\n\n# Lancer un test spÃ©cifique\n./build/test_ecs\n./build/test_network\n\n# Voir les rÃ©sultats dÃ©taillÃ©s\nctest --verbose\n</code></pre>\n<p><strong>Tests actuels</strong> :</p>\n<ul>\n<li>âœ… <code>test_ecs</code> : Registry et composants ECS</li>\n<li>âœ… <code>test_network</code> : Protocole et sÃ©rialisation</li>\n</ul>\n<p>Les tests sont dÃ©commentÃ©s progressivement au fur et Ã  mesure de l'implÃ©mentation.</p>\n<h2>ğŸ“Š MÃ©triques (futures)</h2>\n<ul>\n<li><strong>Code Coverage</strong> : IntÃ©gration avec Codecov/Coveralls</li>\n<li><strong>Performance</strong> : Benchmarks automatiques</li>\n<li><strong>Documentation</strong> : GÃ©nÃ©ration Doxygen dans la CI</li>\n</ul>\n<h2>ğŸ“„ Documentation</h2>\n<ul>\n<li><a href=\"./docs/subject/B-CPP-500_rtype.pdf\">Sujet du projet (PDF)</a></li>\n<li><a href=\"./docs/subject/B-CPP-500_rtype_apendix.pdf\">Annexes (PDF)</a></li>\n<li><a href=\"./.github/BRANCH_PROTECTION.md\">Protection des branches</a></li>\n<li><a href=\"./.githooks/README.md\">Usage des Git Hooks</a></li>\n<li><a href=\"./SMART_COMMIT_GUIDE.md\">Usage du Smart Commit Tool</a></li>\n</ul>\n<h2>ğŸ¤ Contribution</h2>\n<ol>\n<li>CrÃ©er une branche feature : <code>git checkout -b feature/ma-fonctionnalite</code></li>\n<li>Faire vos modifications et commits avec le bon format</li>\n<li>Push vers <code>dev</code> : <code>git push origin feature/ma-fonctionnalite</code></li>\n<li>Merger dans <code>dev</code> (pas de PR requise)</li>\n<li>CrÃ©er une PR de <code>dev</code> vers <code>main</code> pour la validation finale</li>\n</ol>\n<p><strong>Outils recommandÃ©s</strong> :</p>\n<ul>\n<li>Utilisez <code>./scripts/smart-commit.sh</code> pour des commits propres et formatÃ©s</li>\n<li>ExÃ©cutez <code>./scripts/format.sh</code> avant de push</li>\n<li>VÃ©rifiez avec <code>./scripts/lint.sh</code> pour Ã©viter les erreurs de CI</li>\n<li>Lancez <code>ctest</code> pour valider vos changements</li>\n</ul>\n<h2>ğŸ“„ Licence</h2>\n<p>Ce projet est dÃ©veloppÃ© dans un contexte Ã©ducatif (Epitech B-CPP-500).</p>\n"}},"__N_SSG":true}